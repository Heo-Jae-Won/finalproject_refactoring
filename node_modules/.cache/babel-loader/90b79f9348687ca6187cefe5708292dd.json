{"ast":null,"code":"var _jsxFileName = \"C:\\\\data\\\\project\\\\realproject\\\\src\\\\my\\\\MyChatList.jsx\",\n  _s = $RefreshSig$();\nimport { collection, limit, onSnapshot, orderBy, query } from 'firebase/firestore';\nimport React, { useEffect } from 'react';\nimport './chat.css';\nimport { app } from '../fireStore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyChatList = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const db = getFirestore(app);\n  const getMessages = () => {\n    const q = query(collection(db, `${pwriter_id}`), orderBy('date', 'asc'), limit(100));\n    onSnapshot(q, snapshot => {\n      let rows = [];\n      snapshot.forEach(doc => {\n        rows.push({\n          uid: doc.data().uid\n        });\n      });\n      setMessages(rows);\n    });\n  };\n  useEffect(() => {\n    getMessages();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: 100\n    },\n    children: \"list\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }, this);\n};\n_s(MyChatList, \"RyA59LRbn9goj/9N7rELX+NWNVI=\");\n_c = MyChatList;\nexport default MyChatList;\nvar _c;\n$RefreshReg$(_c, \"MyChatList\");","map":{"version":3,"names":["collection","limit","onSnapshot","orderBy","query","React","useEffect","app","MyChatList","messages","setMessages","useState","db","getFirestore","getMessages","q","pwriter_id","snapshot","rows","forEach","doc","push","uid","data","marginTop"],"sources":["C:/data/project/realproject/src/my/MyChatList.jsx"],"sourcesContent":["import { collection, limit, onSnapshot, orderBy, query } from 'firebase/firestore';\r\nimport React, { useEffect } from 'react';\r\nimport './chat.css';\r\nimport { app } from '../fireStore';\r\nconst MyChatList = () => {\r\n    const [messages, setMessages] = useState([]);\r\n    const db = getFirestore(app);\r\n    \r\n    const getMessages = () => {\r\n        const q = query(\r\n            collection(db, `${pwriter_id}`),\r\n            orderBy('date', 'asc'),\r\n            limit(100)\r\n        );\r\n\r\n        onSnapshot(q, (snapshot) => {\r\n            let rows = [];\r\n            snapshot.forEach((doc) => {\r\n                rows.push({\r\n                    uid: doc.data().uid,\r\n                });\r\n            });\r\n            setMessages(rows);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        getMessages();\r\n    }, [])\r\n\r\n    return (\r\n        <div style={{ marginTop: 100 }}>\r\n            list\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyChatList"],"mappings":";;AAAA,SAASA,UAAU,EAAEC,KAAK,EAAEC,UAAU,EAAEC,OAAO,EAAEC,KAAK,QAAQ,oBAAoB;AAClF,OAAOC,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAO,YAAY;AACnB,SAASC,GAAG,QAAQ,cAAc;AAAC;AACnC,MAAMC,UAAU,GAAG,MAAM;EAAA;EACrB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGC,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAMC,EAAE,GAAGC,YAAY,CAACN,GAAG,CAAC;EAE5B,MAAMO,WAAW,GAAG,MAAM;IACtB,MAAMC,CAAC,GAAGX,KAAK,CACXJ,UAAU,CAACY,EAAE,EAAG,GAAEI,UAAW,EAAC,CAAC,EAC/Bb,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,EACtBF,KAAK,CAAC,GAAG,CAAC,CACb;IAEDC,UAAU,CAACa,CAAC,EAAGE,QAAQ,IAAK;MACxB,IAAIC,IAAI,GAAG,EAAE;MACbD,QAAQ,CAACE,OAAO,CAAEC,GAAG,IAAK;QACtBF,IAAI,CAACG,IAAI,CAAC;UACNC,GAAG,EAAEF,GAAG,CAACG,IAAI,EAAE,CAACD;QACpB,CAAC,CAAC;MACN,CAAC,CAAC;MACFZ,WAAW,CAACQ,IAAI,CAAC;IACrB,CAAC,CAAC;EACN,CAAC;EAEDZ,SAAS,CAAC,MAAM;IACZQ,WAAW,EAAE;EACjB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACI;IAAK,KAAK,EAAE;MAAEU,SAAS,EAAE;IAAI,CAAE;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QAEzB;AAEd,CAAC;AAAA,GA/BKhB,UAAU;AAAA,KAAVA,UAAU;AAiChB,eAAeA,UAAU;AAAA;AAAA"},"metadata":{},"sourceType":"module"}
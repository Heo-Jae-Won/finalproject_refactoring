{"ast":null,"code":"var _jsxFileName = \"C:\\\\data\\\\project\\\\realproject\\\\src\\\\my\\\\MyChatItem.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MyChatItem = () => {\n  _s();\n  const db = getFirestore(app);\n  const {\n    loginUser\n  } = useContext(UserContext);\n  const {\n    id,\n    text,\n    date,\n    uid\n  } = message;\n  const [show, setShow] = useState(false);\n  const [msg, setMsg] = useState({\n    date: date,\n    text: text,\n    uid: uid\n  });\n  const handleClose = () => setShow(false);\n  const handleShow = async () => {\n    const docRef = doc(db, 'messages', id);\n    const docsnap = await getDoc(docRef);\n    setMsg({\n      ...msg,\n      text: docsnap.data().text\n    });\n    setShow(true);\n  };\n  const onClickSave = async () => {\n    const docRef = doc(db, 'messages', id);\n    if (!window.confirm(`내용을 '${msg.text}'로 수정하실래요?`)) return;\n    await updateDoc(docRef, msg);\n    setMsg(text);\n    handleClose();\n  };\n  const onChange = e => {\n    setMsg({\n      ...msg,\n      text: e.target.value\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        style: {\n          textAlign: 'left'\n        },\n        children: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [date > user.notice_read_date && /*#__PURE__*/_jsxDEV(Badge, {\n            children: \"new\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 58\n          }, this), \"\\xA0\", text]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: date\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: uid\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => onClickDelete(id),\n          children: \"\\uC0AD\\uC81C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleShow,\n          children: \"\\uC218\\uC815\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), \" \", /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"\\uC54C\\uB9BC\\uB0B4\\uC6A9\\uC744 \\uC218\\uC815\\uD569\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          onChange: onChange,\n          value: msg.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: handleClose,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: onClickSave,\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 87\n    }, this)]\n  }, void 0, true);\n};\n_s(MyChatItem, \"gQIroUdTxCDK6mWVevSpfCy7aWI=\");\n_c = MyChatItem;\nexport default MyChatItem;\nvar _c;\n$RefreshReg$(_c, \"MyChatItem\");","map":{"version":3,"names":["React","MyChatItem","db","getFirestore","app","loginUser","useContext","UserContext","id","text","date","uid","message","show","setShow","useState","msg","setMsg","handleClose","handleShow","docRef","doc","docsnap","getDoc","data","onClickSave","window","confirm","updateDoc","onChange","e","target","value","textAlign","user","notice_read_date","onClickDelete"],"sources":["C:/data/project/realproject/src/my/MyChatItem.jsx"],"sourcesContent":["import React from 'react'\r\n\r\nconst MyChatItem = () => {\r\n    const db = getFirestore(app);\r\n    const { loginUser } = useContext(UserContext);\r\n    const { id, text, date, uid } = message;\r\n    const [show, setShow] = useState(false);\r\n    const [msg, setMsg] = useState({\r\n        date: date,\r\n        text: text,\r\n        uid: uid\r\n    });\r\n\r\n    const handleClose = () => setShow(false); const handleShow = async () => {\r\n        const docRef = doc(db, 'messages', id);\r\n        const docsnap = await getDoc(docRef);\r\n        setMsg({\r\n            ...msg, text: docsnap.data().text\r\n        })\r\n        setShow(true);\r\n    }\r\n\r\n    const onClickSave = async () => {\r\n        const docRef = doc(db, 'messages', id);\r\n        if (!window.confirm(`내용을 '${msg.text}'로 수정하실래요?`)) return;\r\n        await updateDoc(docRef, msg); setMsg(text); handleClose();\r\n    }\r\n\r\n    const onChange = (e) => {\r\n        setMsg({\r\n            ...msg, text: e.target.value\r\n        });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <tr>\r\n                <td style={{ textAlign: 'left' }}>\r\n                    <>\r\n                        {date > user.notice_read_date && <Badge>new</Badge>}&nbsp;{text}\r\n                    </>\r\n                </td>\r\n                <td>{date}</td>\r\n                <td>{uid}</td>\r\n                <td><Button onClick={() => onClickDelete(id)}>삭제</Button></td>\r\n                <td><Button onClick={handleShow}>수정</Button></td>\r\n            </tr>\r\n            {/************************* 알림 수정을 위한 모달창 *****************************/} <Modal show={show} onHide={handleClose}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>알림내용을 수정합니다.</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Form.Control onChange={onChange} value={msg.text} />\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={handleClose}>Close</Button>\r\n                    <Button variant=\"primary\" onClick={onClickSave}>Save</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MyChatItem"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AAAA;AAAA;AAEzB,MAAMC,UAAU,GAAG,MAAM;EAAA;EACrB,MAAMC,EAAE,GAAGC,YAAY,CAACC,GAAG,CAAC;EAC5B,MAAM;IAAEC;EAAU,CAAC,GAAGC,UAAU,CAACC,WAAW,CAAC;EAC7C,MAAM;IAAEC,EAAE;IAAEC,IAAI;IAAEC,IAAI;IAAEC;EAAI,CAAC,GAAGC,OAAO;EACvC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGC,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGF,QAAQ,CAAC;IAC3BL,IAAI,EAAEA,IAAI;IACVD,IAAI,EAAEA,IAAI;IACVE,GAAG,EAAEA;EACT,CAAC,CAAC;EAEF,MAAMO,WAAW,GAAG,MAAMJ,OAAO,CAAC,KAAK,CAAC;EAAE,MAAMK,UAAU,GAAG,YAAY;IACrE,MAAMC,MAAM,GAAGC,GAAG,CAACnB,EAAE,EAAE,UAAU,EAAEM,EAAE,CAAC;IACtC,MAAMc,OAAO,GAAG,MAAMC,MAAM,CAACH,MAAM,CAAC;IACpCH,MAAM,CAAC;MACH,GAAGD,GAAG;MAAEP,IAAI,EAAEa,OAAO,CAACE,IAAI,EAAE,CAACf;IACjC,CAAC,CAAC;IACFK,OAAO,CAAC,IAAI,CAAC;EACjB,CAAC;EAED,MAAMW,WAAW,GAAG,YAAY;IAC5B,MAAML,MAAM,GAAGC,GAAG,CAACnB,EAAE,EAAE,UAAU,EAAEM,EAAE,CAAC;IACtC,IAAI,CAACkB,MAAM,CAACC,OAAO,CAAE,QAAOX,GAAG,CAACP,IAAK,YAAW,CAAC,EAAE;IACnD,MAAMmB,SAAS,CAACR,MAAM,EAAEJ,GAAG,CAAC;IAAEC,MAAM,CAACR,IAAI,CAAC;IAAES,WAAW,EAAE;EAC7D,CAAC;EAED,MAAMW,QAAQ,GAAIC,CAAC,IAAK;IACpBb,MAAM,CAAC;MACH,GAAGD,GAAG;MAAEP,IAAI,EAAEqB,CAAC,CAACC,MAAM,CAACC;IAC3B,CAAC,CAAC;EACN,CAAC;EAED,oBACI;IAAA,wBACI;MAAA,wBACI;QAAI,KAAK,EAAE;UAAEC,SAAS,EAAE;QAAO,CAAE;QAAA,uBAC7B;UAAA,WACKvB,IAAI,GAAGwB,IAAI,CAACC,gBAAgB,iBAAI,QAAC,KAAK;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAY,UAAQ1B,IAAI;QAAA;MAChE;QAAA;QAAA;QAAA;MAAA,QACF,eACL;QAAA,UAAKC;MAAI;QAAA;QAAA;QAAA;MAAA,QAAM,eACf;QAAA,UAAKC;MAAG;QAAA;QAAA;QAAA;MAAA,QAAM,eACd;QAAA,uBAAI,QAAC,MAAM;UAAC,OAAO,EAAE,MAAMyB,aAAa,CAAC5B,EAAE,CAAE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAY;QAAA;QAAA;QAAA;MAAA,QAAK,eAC9D;QAAA,uBAAI,QAAC,MAAM;UAAC,OAAO,EAAEW,UAAW;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAY;QAAA;QAAA;QAAA;MAAA,QAAK;IAAA;MAAA;MAAA;MAAA;IAAA,QAChD,oBACqE,QAAC,KAAK;MAAC,IAAI,EAAEN,IAAK;MAAC,MAAM,EAAEK,WAAY;MAAA,wBAC7G,QAAC,KAAK,CAAC,MAAM;QAAC,WAAW;QAAA,uBACrB,QAAC,KAAK,CAAC,KAAK;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAA2B;QAAA;QAAA;QAAA;MAAA,QAC5B,eACf,QAAC,KAAK,CAAC,IAAI;QAAA,uBACP,QAAC,IAAI,CAAC,OAAO;UAAC,QAAQ,EAAEW,QAAS;UAAC,KAAK,EAAEb,GAAG,CAACP;QAAK;UAAA;UAAA;UAAA;QAAA;MAAG;QAAA;QAAA;QAAA;MAAA,QAC5C,eACb,QAAC,KAAK,CAAC,MAAM;QAAA,wBACT,QAAC,MAAM;UAAC,OAAO,EAAC,WAAW;UAAC,OAAO,EAAES,WAAY;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAe,eAChE,QAAC,MAAM;UAAC,OAAO,EAAC,SAAS;UAAC,OAAO,EAAEO,WAAY;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAc;MAAA;QAAA;QAAA;QAAA;MAAA,QAClD;IAAA;MAAA;MAAA;MAAA;IAAA,QACX;EAAA,gBACT;AAEX,CAAC;AAAA,GA3DKxB,UAAU;AAAA,KAAVA,UAAU;AA6DhB,eAAeA,UAAU;AAAA;AAAA"},"metadata":{},"sourceType":"module"}
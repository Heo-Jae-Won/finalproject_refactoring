{"ast":null,"code":"/**\n * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module ui/list/listview\n */\n\nimport View from '../view';\nimport FocusTracker from '@ckeditor/ckeditor5-utils/src/focustracker';\nimport FocusCycler from '../focuscycler';\nimport KeystrokeHandler from '@ckeditor/ckeditor5-utils/src/keystrokehandler';\nimport '../../theme/components/list/list.css';\n\n/**\n * The list view class.\n *\n * @extends module:ui/view~View\n * @implements module:ui/dropdown/dropdownpanelfocusable~DropdownPanelFocusable\n */\nexport default class ListView extends View {\n  /**\n   * @inheritDoc\n   */\n  constructor() {\n    super();\n\n    /**\n     * Collection of the child list views.\n     *\n     * @readonly\n     * @member {module:ui/viewcollection~ViewCollection}\n     */\n    this.items = this.createCollection();\n\n    /**\n     * Tracks information about DOM focus in the list.\n     *\n     * @readonly\n     * @member {module:utils/focustracker~FocusTracker}\n     */\n    this.focusTracker = new FocusTracker();\n\n    /**\n     * Instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n     *\n     * @readonly\n     * @member {module:utils/keystrokehandler~KeystrokeHandler}\n     */\n    this.keystrokes = new KeystrokeHandler();\n\n    /**\n     * Helps cycling over focusable {@link #items} in the list.\n     *\n     * @readonly\n     * @protected\n     * @member {module:ui/focuscycler~FocusCycler}\n     */\n    this._focusCycler = new FocusCycler({\n      focusables: this.items,\n      focusTracker: this.focusTracker,\n      keystrokeHandler: this.keystrokes,\n      actions: {\n        // Navigate list items backwards using the arrowup key.\n        focusPrevious: 'arrowup',\n        // Navigate toolbar items forwards using the arrowdown key.\n        focusNext: 'arrowdown'\n      }\n    });\n    this.setTemplate({\n      tag: 'ul',\n      attributes: {\n        class: ['ck', 'ck-reset', 'ck-list']\n      },\n      children: this.items\n    });\n  }\n\n  /**\n   * @inheritDoc\n   */\n  render() {\n    super.render();\n\n    // Items added before rendering should be known to the #focusTracker.\n    for (const item of this.items) {\n      this.focusTracker.add(item.element);\n    }\n    this.items.on('add', (evt, item) => {\n      this.focusTracker.add(item.element);\n    });\n    this.items.on('remove', (evt, item) => {\n      this.focusTracker.remove(item.element);\n    });\n\n    // Start listening for the keystrokes coming from #element.\n    this.keystrokes.listenTo(this.element);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  destroy() {\n    super.destroy();\n    this.focusTracker.destroy();\n    this.keystrokes.destroy();\n  }\n\n  /**\n   * Focuses the first focusable in {@link #items}.\n   */\n  focus() {\n    this._focusCycler.focusFirst();\n  }\n\n  /**\n   * Focuses the last focusable in {@link #items}.\n   */\n  focusLast() {\n    this._focusCycler.focusLast();\n  }\n}","map":{"version":3,"names":["View","FocusTracker","FocusCycler","KeystrokeHandler","ListView","constructor","items","createCollection","focusTracker","keystrokes","_focusCycler","focusables","keystrokeHandler","actions","focusPrevious","focusNext","setTemplate","tag","attributes","class","children","render","item","add","element","on","evt","remove","listenTo","destroy","focus","focusFirst","focusLast"],"sources":["C:/data/project/realproject/node_modules/@ckeditor/ckeditor5-ui/src/list/listview.js"],"sourcesContent":["/**\n * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module ui/list/listview\n */\n\nimport View from '../view';\nimport FocusTracker from '@ckeditor/ckeditor5-utils/src/focustracker';\nimport FocusCycler from '../focuscycler';\nimport KeystrokeHandler from '@ckeditor/ckeditor5-utils/src/keystrokehandler';\n\nimport '../../theme/components/list/list.css';\n\n/**\n * The list view class.\n *\n * @extends module:ui/view~View\n * @implements module:ui/dropdown/dropdownpanelfocusable~DropdownPanelFocusable\n */\nexport default class ListView extends View {\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor() {\n\t\tsuper();\n\n\t\t/**\n\t\t * Collection of the child list views.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:ui/viewcollection~ViewCollection}\n\t\t */\n\t\tthis.items = this.createCollection();\n\n\t\t/**\n\t\t * Tracks information about DOM focus in the list.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:utils/focustracker~FocusTracker}\n\t\t */\n\t\tthis.focusTracker = new FocusTracker();\n\n\t\t/**\n\t\t * Instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:utils/keystrokehandler~KeystrokeHandler}\n\t\t */\n\t\tthis.keystrokes = new KeystrokeHandler();\n\n\t\t/**\n\t\t * Helps cycling over focusable {@link #items} in the list.\n\t\t *\n\t\t * @readonly\n\t\t * @protected\n\t\t * @member {module:ui/focuscycler~FocusCycler}\n\t\t */\n\t\tthis._focusCycler = new FocusCycler( {\n\t\t\tfocusables: this.items,\n\t\t\tfocusTracker: this.focusTracker,\n\t\t\tkeystrokeHandler: this.keystrokes,\n\t\t\tactions: {\n\t\t\t\t// Navigate list items backwards using the arrowup key.\n\t\t\t\tfocusPrevious: 'arrowup',\n\n\t\t\t\t// Navigate toolbar items forwards using the arrowdown key.\n\t\t\t\tfocusNext: 'arrowdown'\n\t\t\t}\n\t\t} );\n\n\t\tthis.setTemplate( {\n\t\t\ttag: 'ul',\n\n\t\t\tattributes: {\n\t\t\t\tclass: [\n\t\t\t\t\t'ck',\n\t\t\t\t\t'ck-reset',\n\t\t\t\t\t'ck-list'\n\t\t\t\t]\n\t\t\t},\n\n\t\t\tchildren: this.items\n\t\t} );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\trender() {\n\t\tsuper.render();\n\n\t\t// Items added before rendering should be known to the #focusTracker.\n\t\tfor ( const item of this.items ) {\n\t\t\tthis.focusTracker.add( item.element );\n\t\t}\n\n\t\tthis.items.on( 'add', ( evt, item ) => {\n\t\t\tthis.focusTracker.add( item.element );\n\t\t} );\n\n\t\tthis.items.on( 'remove', ( evt, item ) => {\n\t\t\tthis.focusTracker.remove( item.element );\n\t\t} );\n\n\t\t// Start listening for the keystrokes coming from #element.\n\t\tthis.keystrokes.listenTo( this.element );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdestroy() {\n\t\tsuper.destroy();\n\n\t\tthis.focusTracker.destroy();\n\t\tthis.keystrokes.destroy();\n\t}\n\n\t/**\n\t * Focuses the first focusable in {@link #items}.\n\t */\n\tfocus() {\n\t\tthis._focusCycler.focusFirst();\n\t}\n\n\t/**\n\t * Focuses the last focusable in {@link #items}.\n\t */\n\tfocusLast() {\n\t\tthis._focusCycler.focusLast();\n\t}\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,OAAOA,IAAI,MAAM,SAAS;AAC1B,OAAOC,YAAY,MAAM,4CAA4C;AACrE,OAAOC,WAAW,MAAM,gBAAgB;AACxC,OAAOC,gBAAgB,MAAM,gDAAgD;AAE7E,OAAO,sCAAsC;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAMC,QAAQ,SAASJ,IAAI,CAAC;EAC1C;AACD;AACA;EACCK,WAAW,GAAG;IACb,KAAK,EAAE;;IAEP;AACF;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,KAAK,GAAG,IAAI,CAACC,gBAAgB,EAAE;;IAEpC;AACF;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,YAAY,GAAG,IAAIP,YAAY,EAAE;;IAEtC;AACF;AACA;AACA;AACA;AACA;IACE,IAAI,CAACQ,UAAU,GAAG,IAAIN,gBAAgB,EAAE;;IAExC;AACF;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACO,YAAY,GAAG,IAAIR,WAAW,CAAE;MACpCS,UAAU,EAAE,IAAI,CAACL,KAAK;MACtBE,YAAY,EAAE,IAAI,CAACA,YAAY;MAC/BI,gBAAgB,EAAE,IAAI,CAACH,UAAU;MACjCI,OAAO,EAAE;QACR;QACAC,aAAa,EAAE,SAAS;QAExB;QACAC,SAAS,EAAE;MACZ;IACD,CAAC,CAAE;IAEH,IAAI,CAACC,WAAW,CAAE;MACjBC,GAAG,EAAE,IAAI;MAETC,UAAU,EAAE;QACXC,KAAK,EAAE,CACN,IAAI,EACJ,UAAU,EACV,SAAS;MAEX,CAAC;MAEDC,QAAQ,EAAE,IAAI,CAACd;IAChB,CAAC,CAAE;EACJ;;EAEA;AACD;AACA;EACCe,MAAM,GAAG;IACR,KAAK,CAACA,MAAM,EAAE;;IAEd;IACA,KAAM,MAAMC,IAAI,IAAI,IAAI,CAAChB,KAAK,EAAG;MAChC,IAAI,CAACE,YAAY,CAACe,GAAG,CAAED,IAAI,CAACE,OAAO,CAAE;IACtC;IAEA,IAAI,CAAClB,KAAK,CAACmB,EAAE,CAAE,KAAK,EAAE,CAAEC,GAAG,EAAEJ,IAAI,KAAM;MACtC,IAAI,CAACd,YAAY,CAACe,GAAG,CAAED,IAAI,CAACE,OAAO,CAAE;IACtC,CAAC,CAAE;IAEH,IAAI,CAAClB,KAAK,CAACmB,EAAE,CAAE,QAAQ,EAAE,CAAEC,GAAG,EAAEJ,IAAI,KAAM;MACzC,IAAI,CAACd,YAAY,CAACmB,MAAM,CAAEL,IAAI,CAACE,OAAO,CAAE;IACzC,CAAC,CAAE;;IAEH;IACA,IAAI,CAACf,UAAU,CAACmB,QAAQ,CAAE,IAAI,CAACJ,OAAO,CAAE;EACzC;;EAEA;AACD;AACA;EACCK,OAAO,GAAG;IACT,KAAK,CAACA,OAAO,EAAE;IAEf,IAAI,CAACrB,YAAY,CAACqB,OAAO,EAAE;IAC3B,IAAI,CAACpB,UAAU,CAACoB,OAAO,EAAE;EAC1B;;EAEA;AACD;AACA;EACCC,KAAK,GAAG;IACP,IAAI,CAACpB,YAAY,CAACqB,UAAU,EAAE;EAC/B;;EAEA;AACD;AACA;EACCC,SAAS,GAAG;IACX,IAAI,CAACtB,YAAY,CAACsB,SAAS,EAAE;EAC9B;AACD"},"metadata":{},"sourceType":"module"}
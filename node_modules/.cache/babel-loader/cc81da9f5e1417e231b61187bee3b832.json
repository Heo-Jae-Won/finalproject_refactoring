{"ast":null,"code":"/**\n * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module ui/iframe/iframeview\n */\n\nimport View from '../view';\n\n/**\n * The iframe view class.\n *\n * \t\tconst iframe = new IframeView();\n *\n *\t\tiframe.render();\n *\t\tdocument.body.appendChild( iframe.element );\n *\n * \t\tiframe.on( 'loaded', () => {\n *\t\t\tconsole.log( 'The iframe has loaded', iframe.element.contentWindow );\n *\t\t} );\n *\n * \t\tiframe.element.src = 'https://ckeditor.com';\n *\n * @extends module:ui/view~View\n */\nexport default class IframeView extends View {\n  /**\n   * Creates a new instance of the iframe view.\n   *\n   * @param {module:utils/locale~Locale} [locale] The locale instance.\n   */\n  constructor(locale) {\n    super(locale);\n    const bind = this.bindTemplate;\n    this.setTemplate({\n      tag: 'iframe',\n      attributes: {\n        class: ['ck', 'ck-reset_all'],\n        // It seems that we need to allow scripts in order to be able to listen to events.\n        // TODO: Research that. Perhaps the src must be set?\n        sandbox: 'allow-same-origin allow-scripts'\n      },\n      on: {\n        load: bind.to('loaded')\n      }\n    });\n  }\n\n  /**\n   * Renders the iframe's {@link #element} and returns a `Promise` for asynchronous\n   * child `contentDocument` loading process.\n   *\n   * @returns {Promise} A promise which resolves once the iframe `contentDocument` has\n   * been {@link #event:loaded}.\n   */\n  render() {\n    return new Promise(resolve => {\n      this.on('loaded', resolve);\n      super.render();\n    });\n  }\n}\n\n/**\n * Fired when the DOM iframe's `contentDocument` finished loading.\n *\n * @event loaded\n */","map":{"version":3,"names":["View","IframeView","constructor","locale","bind","bindTemplate","setTemplate","tag","attributes","class","sandbox","on","load","to","render","Promise","resolve"],"sources":["C:/data/project/realproject/node_modules/@ckeditor/ckeditor5-ui/src/iframe/iframeview.js"],"sourcesContent":["/**\n * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module ui/iframe/iframeview\n */\n\nimport View from '../view';\n\n/**\n * The iframe view class.\n *\n * \t\tconst iframe = new IframeView();\n *\n *\t\tiframe.render();\n *\t\tdocument.body.appendChild( iframe.element );\n *\n * \t\tiframe.on( 'loaded', () => {\n *\t\t\tconsole.log( 'The iframe has loaded', iframe.element.contentWindow );\n *\t\t} );\n *\n * \t\tiframe.element.src = 'https://ckeditor.com';\n *\n * @extends module:ui/view~View\n */\nexport default class IframeView extends View {\n\t/**\n\t * Creates a new instance of the iframe view.\n\t *\n\t * @param {module:utils/locale~Locale} [locale] The locale instance.\n\t */\n\tconstructor( locale ) {\n\t\tsuper( locale );\n\n\t\tconst bind = this.bindTemplate;\n\n\t\tthis.setTemplate( {\n\t\t\ttag: 'iframe',\n\t\t\tattributes: {\n\t\t\t\tclass: [\n\t\t\t\t\t'ck',\n\t\t\t\t\t'ck-reset_all'\n\t\t\t\t],\n\t\t\t\t// It seems that we need to allow scripts in order to be able to listen to events.\n\t\t\t\t// TODO: Research that. Perhaps the src must be set?\n\t\t\t\tsandbox: 'allow-same-origin allow-scripts'\n\t\t\t},\n\t\t\ton: {\n\t\t\t\tload: bind.to( 'loaded' )\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * Renders the iframe's {@link #element} and returns a `Promise` for asynchronous\n\t * child `contentDocument` loading process.\n\t *\n\t * @returns {Promise} A promise which resolves once the iframe `contentDocument` has\n\t * been {@link #event:loaded}.\n\t */\n\trender() {\n\t\treturn new Promise( resolve => {\n\t\t\tthis.on( 'loaded', resolve );\n\t\t\tsuper.render();\n\t\t} );\n\t}\n}\n\n/**\n * Fired when the DOM iframe's `contentDocument` finished loading.\n *\n * @event loaded\n */\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,OAAOA,IAAI,MAAM,SAAS;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAMC,UAAU,SAASD,IAAI,CAAC;EAC5C;AACD;AACA;AACA;AACA;EACCE,WAAW,CAAEC,MAAM,EAAG;IACrB,KAAK,CAAEA,MAAM,CAAE;IAEf,MAAMC,IAAI,GAAG,IAAI,CAACC,YAAY;IAE9B,IAAI,CAACC,WAAW,CAAE;MACjBC,GAAG,EAAE,QAAQ;MACbC,UAAU,EAAE;QACXC,KAAK,EAAE,CACN,IAAI,EACJ,cAAc,CACd;QACD;QACA;QACAC,OAAO,EAAE;MACV,CAAC;MACDC,EAAE,EAAE;QACHC,IAAI,EAAER,IAAI,CAACS,EAAE,CAAE,QAAQ;MACxB;IACD,CAAC,CAAE;EACJ;;EAEA;AACD;AACA;AACA;AACA;AACA;AACA;EACCC,MAAM,GAAG;IACR,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAI;MAC9B,IAAI,CAACL,EAAE,CAAE,QAAQ,EAAEK,OAAO,CAAE;MAC5B,KAAK,CAACF,MAAM,EAAE;IACf,CAAC,CAAE;EACJ;AACD;;AAEA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"/**\n * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* global DOMParser */\n\n/**\n * @module ui/icon/iconview\n */\n\nimport View from '../view';\nimport '../../theme/components/icon/icon.css';\n\n/**\n * The icon view class.\n *\n * @extends module:ui/view~View\n */\nexport default class IconView extends View {\n  /**\n   * @inheritDoc\n   */\n  constructor() {\n    super();\n    const bind = this.bindTemplate;\n\n    /**\n     * The SVG source of the icon.\n     *\n     * @observable\n     * @member {String} #content\n     */\n    this.set('content', '');\n\n    /**\n     * This attribute specifies the boundaries to which the\n     * icon content should stretch.\n     *\n     * @observable\n     * @default '0 0 20 20'\n     * @member {String} #viewBox\n     */\n    this.set('viewBox', '0 0 20 20');\n\n    /**\n     * The fill color of the child `path.ck-icon__fill`.\n     *\n     * @observable\n     * @default ''\n     * @member {String} #fillColor\n     */\n    this.set('fillColor', '');\n    this.setTemplate({\n      tag: 'svg',\n      ns: 'http://www.w3.org/2000/svg',\n      attributes: {\n        class: ['ck', 'ck-icon'],\n        viewBox: bind.to('viewBox')\n      }\n    });\n  }\n\n  /**\n   * @inheritDoc\n   */\n  render() {\n    super.render();\n    this._updateXMLContent();\n    this._colorFillPaths();\n\n    // This is a hack for lack of innerHTML binding.\n    // See: https://github.com/ckeditor/ckeditor5-ui/issues/99.\n    this.on('change:content', () => {\n      this._updateXMLContent();\n      this._colorFillPaths();\n    });\n    this.on('change:fillColor', () => {\n      this._colorFillPaths();\n    });\n  }\n\n  /**\n   * Updates the {@link #element} with the value of {@link #content}.\n   *\n   * @private\n   */\n  _updateXMLContent() {\n    if (this.content) {\n      const parsed = new DOMParser().parseFromString(this.content.trim(), 'image/svg+xml');\n      const svg = parsed.querySelector('svg');\n      const viewBox = svg.getAttribute('viewBox');\n      if (viewBox) {\n        this.viewBox = viewBox;\n      }\n      while (this.element.firstChild) {\n        this.element.removeChild(this.element.firstChild);\n      }\n      while (svg.childNodes.length > 0) {\n        this.element.appendChild(svg.childNodes[0]);\n      }\n    }\n  }\n\n  /**\n   * Fills all child `path.ck-icon__fill` with the `#fillColor`.\n   *\n   * @private\n   */\n  _colorFillPaths() {\n    if (this.fillColor) {\n      this.element.querySelectorAll('.ck-icon__fill').forEach(path => {\n        path.style.fill = this.fillColor;\n      });\n    }\n  }\n}","map":{"version":3,"names":["View","IconView","constructor","bind","bindTemplate","set","setTemplate","tag","ns","attributes","class","viewBox","to","render","_updateXMLContent","_colorFillPaths","on","content","parsed","DOMParser","parseFromString","trim","svg","querySelector","getAttribute","element","firstChild","removeChild","childNodes","length","appendChild","fillColor","querySelectorAll","forEach","path","style","fill"],"sources":["C:/data/project/realproject/node_modules/@ckeditor/ckeditor5-ui/src/icon/iconview.js"],"sourcesContent":["/**\n * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* global DOMParser */\n\n/**\n * @module ui/icon/iconview\n */\n\nimport View from '../view';\n\nimport '../../theme/components/icon/icon.css';\n\n/**\n * The icon view class.\n *\n * @extends module:ui/view~View\n */\nexport default class IconView extends View {\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor() {\n\t\tsuper();\n\n\t\tconst bind = this.bindTemplate;\n\n\t\t/**\n\t\t * The SVG source of the icon.\n\t\t *\n\t\t * @observable\n\t\t * @member {String} #content\n\t\t */\n\t\tthis.set( 'content', '' );\n\n\t\t/**\n\t\t * This attribute specifies the boundaries to which the\n\t\t * icon content should stretch.\n\t\t *\n\t\t * @observable\n\t\t * @default '0 0 20 20'\n\t\t * @member {String} #viewBox\n\t\t */\n\t\tthis.set( 'viewBox', '0 0 20 20' );\n\n\t\t/**\n\t\t * The fill color of the child `path.ck-icon__fill`.\n\t\t *\n\t\t * @observable\n\t\t * @default ''\n\t\t * @member {String} #fillColor\n\t\t */\n\t\tthis.set( 'fillColor', '' );\n\n\t\tthis.setTemplate( {\n\t\t\ttag: 'svg',\n\t\t\tns: 'http://www.w3.org/2000/svg',\n\t\t\tattributes: {\n\t\t\t\tclass: [\n\t\t\t\t\t'ck',\n\t\t\t\t\t'ck-icon'\n\t\t\t\t],\n\t\t\t\tviewBox: bind.to( 'viewBox' )\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\trender() {\n\t\tsuper.render();\n\n\t\tthis._updateXMLContent();\n\t\tthis._colorFillPaths();\n\n\t\t// This is a hack for lack of innerHTML binding.\n\t\t// See: https://github.com/ckeditor/ckeditor5-ui/issues/99.\n\t\tthis.on( 'change:content', () => {\n\t\t\tthis._updateXMLContent();\n\t\t\tthis._colorFillPaths();\n\t\t} );\n\n\t\tthis.on( 'change:fillColor', () => {\n\t\t\tthis._colorFillPaths();\n\t\t} );\n\t}\n\n\t/**\n\t * Updates the {@link #element} with the value of {@link #content}.\n\t *\n\t * @private\n\t */\n\t_updateXMLContent() {\n\t\tif ( this.content ) {\n\t\t\tconst parsed = new DOMParser().parseFromString( this.content.trim(), 'image/svg+xml' );\n\t\t\tconst svg = parsed.querySelector( 'svg' );\n\t\t\tconst viewBox = svg.getAttribute( 'viewBox' );\n\n\t\t\tif ( viewBox ) {\n\t\t\t\tthis.viewBox = viewBox;\n\t\t\t}\n\n\t\t\twhile ( this.element.firstChild ) {\n\t\t\t\tthis.element.removeChild( this.element.firstChild );\n\t\t\t}\n\n\t\t\twhile ( svg.childNodes.length > 0 ) {\n\t\t\t\tthis.element.appendChild( svg.childNodes[ 0 ] );\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Fills all child `path.ck-icon__fill` with the `#fillColor`.\n\t *\n\t * @private\n\t */\n\t_colorFillPaths() {\n\t\tif ( this.fillColor ) {\n\t\t\tthis.element.querySelectorAll( '.ck-icon__fill' ).forEach( path => {\n\t\t\t\tpath.style.fill = this.fillColor;\n\t\t\t} );\n\t\t}\n\t}\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,OAAOA,IAAI,MAAM,SAAS;AAE1B,OAAO,sCAAsC;;AAE7C;AACA;AACA;AACA;AACA;AACA,eAAe,MAAMC,QAAQ,SAASD,IAAI,CAAC;EAC1C;AACD;AACA;EACCE,WAAW,GAAG;IACb,KAAK,EAAE;IAEP,MAAMC,IAAI,GAAG,IAAI,CAACC,YAAY;;IAE9B;AACF;AACA;AACA;AACA;AACA;IACE,IAAI,CAACC,GAAG,CAAE,SAAS,EAAE,EAAE,CAAE;;IAEzB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACA,GAAG,CAAE,SAAS,EAAE,WAAW,CAAE;;IAElC;AACF;AACA;AACA;AACA;AACA;AACA;IACE,IAAI,CAACA,GAAG,CAAE,WAAW,EAAE,EAAE,CAAE;IAE3B,IAAI,CAACC,WAAW,CAAE;MACjBC,GAAG,EAAE,KAAK;MACVC,EAAE,EAAE,4BAA4B;MAChCC,UAAU,EAAE;QACXC,KAAK,EAAE,CACN,IAAI,EACJ,SAAS,CACT;QACDC,OAAO,EAAER,IAAI,CAACS,EAAE,CAAE,SAAS;MAC5B;IACD,CAAC,CAAE;EACJ;;EAEA;AACD;AACA;EACCC,MAAM,GAAG;IACR,KAAK,CAACA,MAAM,EAAE;IAEd,IAAI,CAACC,iBAAiB,EAAE;IACxB,IAAI,CAACC,eAAe,EAAE;;IAEtB;IACA;IACA,IAAI,CAACC,EAAE,CAAE,gBAAgB,EAAE,MAAM;MAChC,IAAI,CAACF,iBAAiB,EAAE;MACxB,IAAI,CAACC,eAAe,EAAE;IACvB,CAAC,CAAE;IAEH,IAAI,CAACC,EAAE,CAAE,kBAAkB,EAAE,MAAM;MAClC,IAAI,CAACD,eAAe,EAAE;IACvB,CAAC,CAAE;EACJ;;EAEA;AACD;AACA;AACA;AACA;EACCD,iBAAiB,GAAG;IACnB,IAAK,IAAI,CAACG,OAAO,EAAG;MACnB,MAAMC,MAAM,GAAG,IAAIC,SAAS,EAAE,CAACC,eAAe,CAAE,IAAI,CAACH,OAAO,CAACI,IAAI,EAAE,EAAE,eAAe,CAAE;MACtF,MAAMC,GAAG,GAAGJ,MAAM,CAACK,aAAa,CAAE,KAAK,CAAE;MACzC,MAAMZ,OAAO,GAAGW,GAAG,CAACE,YAAY,CAAE,SAAS,CAAE;MAE7C,IAAKb,OAAO,EAAG;QACd,IAAI,CAACA,OAAO,GAAGA,OAAO;MACvB;MAEA,OAAQ,IAAI,CAACc,OAAO,CAACC,UAAU,EAAG;QACjC,IAAI,CAACD,OAAO,CAACE,WAAW,CAAE,IAAI,CAACF,OAAO,CAACC,UAAU,CAAE;MACpD;MAEA,OAAQJ,GAAG,CAACM,UAAU,CAACC,MAAM,GAAG,CAAC,EAAG;QACnC,IAAI,CAACJ,OAAO,CAACK,WAAW,CAAER,GAAG,CAACM,UAAU,CAAE,CAAC,CAAE,CAAE;MAChD;IACD;EACD;;EAEA;AACD;AACA;AACA;AACA;EACCb,eAAe,GAAG;IACjB,IAAK,IAAI,CAACgB,SAAS,EAAG;MACrB,IAAI,CAACN,OAAO,CAACO,gBAAgB,CAAE,gBAAgB,CAAE,CAACC,OAAO,CAAEC,IAAI,IAAI;QAClEA,IAAI,CAACC,KAAK,CAACC,IAAI,GAAG,IAAI,CAACL,SAAS;MACjC,CAAC,CAAE;IACJ;EACD;AACD"},"metadata":{},"sourceType":"module"}